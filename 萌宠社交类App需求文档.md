# 萌宠类App需求文档

## 1. 项目概述
**目标**：打造一款专注于宠物管理的社交型App，帮助用户记录宠物生活、管理健康与花销，并通过宠物社交扩展用户社交圈。  
**核心功能**：
- 宠物登记与电子身份证颁发
- 宠物生日与疫苗提醒
- 宠物花销管理
- 宠物社交社区

---

## 2. 功能需求
### 2.0 用户系统
1. 支持微信登录
2. 支持手机号验证码登录/注册

### 2.1 宠物登记与身份证颁发
**功能描述**：
1. 用户可录入宠物信息（名称、品种、性别、生日、照片、体重、毛色等）。
2. 系统生成唯一电子身份证，包含以下内容：
   - 宠物唯一编号
   - 二维码（关联宠物档案）
   - 基础信息（名称、品种、性别）
3. 支持导出PDF格式身份证（可选打印）。

**技术实现**：
- 前端：
  - 使用Flutter Form组件实现表单输入
  - image_picker包处理图片上传
  - pdf包生成电子身份证PDF
  - qr_flutter包生成二维码
- 后端：数据加密存储（AES-256）、二维码生成API。
- 安全：用户数据加密存储，身份证仅限本人查看。

---

### 2.2 生日记录与提醒
**功能描述**：
1. 自动计算宠物年龄（基于出生日期）。
2. 用户可设置提醒时间（默认提前3天）。
3. 支持推送通知、短信或邮件提醒。

**技术实现**：
- 前端：
  - table_calendar包实现日历功能
  - flutter_local_notifications处理本地提醒
  - 使用Provider进行状态管理
- 后端：定时任务调度、集成短信/邮件服务。

---

### 2.3 疫苗记录与提醒
**功能描述**：
1. 疫苗类型标准化选择（狂犬疫苗、三联疫苗等）。
2. 记录接种时间、兽医诊所、下次接种日期（系统自动计算周期）。
3. 提醒逻辑：根据疫苗类型预设周期（如狂犬疫苗每年一次）。

**技术实现**：
- 前端：
  - dropdown_button2包实现疫苗类型选择
  - timeline_tile包展示接种历史
  - flutter_local_notifications实现提醒功能
- 后端：疫苗周期配置表（管理员可维护）、提醒触发机制。

---

### 2.4 宠物花销记录
**功能描述**：
1. 分类记录花销（食品、医疗、美容、玩具等）。
2. 支持上传消费凭证（如发票照片）。
3. 数据可视化：月度/年度统计、分类占比饼图、趋势分析。

**技术实现**：
- 前端：
  - fl_chart包实现数据可视化（饼图、折线图）
  - image_picker处理发票照片上传
  - cached_network_image优化图片加载
  - 使用GetX状态管理
- 后端：消费数据聚合统计、图片存储（阿里云OSS）。

---

### 2.5 宠物社交（以宠会友）
**功能描述**：
1. **动态分享**：用户可发布宠物日常（图文/短视频）、点赞、评论。
2. **附近宠物**：基于LBS匹配附近的宠物主人，支持发起线下活动（如遛狗聚会）。
3. **宠物匹配**：根据品种、年龄推荐相似宠物主人。

**技术实现**：
- 前端：
  - flutter_staggered_grid_view实现瀑布流动态展示
  - video_player处理短视频播放
  - amap_flutter_map集成高德地图
  - geolocator处理地理位置服务
  - pull_to_refresh实现下拉刷新和加载更多
  - cached_network_image优化图片加载
  - web_socket_channel处理WebSocket连接
  - provider进行状态管理
- 后端：推荐算法（协同过滤）、实时消息推送（WebSocket）。

---


## 3. 盈利模式设计（新增章节）

### 3.1 基础服务（免费）
√ 宠物基础档案建立  
√ 疫苗/生日提醒  
√ 每月3次动态发布额度  
√ 基础版电子身份证

### 3.2 付费模式

#### 🐾 萌宠会员（9.9元/月）
- ✅ 无限动态发布
- ✅ 智能健康分析（通过AI分析宠物行为）
- ✅ VIP专属宠物电子身份证（10+精美模板）
- ✅ 50公里范围宠物匹配
- ✅ 会员专属虚拟服饰（每月更新3套）
- ✅ 云存储空间10GB（保存宠物成长记录）

#### 🦴 虚拟商品
<!-- - 聊天表情包（6元/套）：12款宠物主题表情 -->
<!-- - 虚拟礼物（1-50元）：用于打赏优质动态  -->

#### 🏥 增值服务
<!-- - 宠物健康咨询（29元/次）：专业兽医在线答疑
- 美容预约返现（消费满100返10元券）
- 遗失宠物协寻（99元/次）：周边3公里推送寻宠启事，和专业宠物协寻团队合作 -->
- 纪念相册制作（39元）：生成年度成长纪念册

#### 📊 数据服务
- 年度健康报告（12元）：疫苗接种分析+饮食建议
- 花销统计报告（6元）：可视化年度消费趋势
- 社交热度报告（免费会员版/9元专业版）

### 3.3 技术实现
- 支付集成：支付宝/微信支付SDK
- 虚拟商品管理系统
- 会员权益控制中心
- 订阅状态实时更新
- 消费数据加密存储（PCI DSS标准）

## 4. 非功能需求
- **性能**：响应时间<1秒，支持10万级用户并发。
- **兼容性**：iOS/Android双端适配，支持主流机型。
- **安全性**：HTTPS传输、敏感信息脱敏（如身份证仅展示部分信息）。
- **扩展性**：模块化设计，预留API接口（未来接入宠物医院、电商平台）。

---

## 5. 技术架构
**App**：
- 框架：Flutter

**后端**：
- 架构：SpringBoot， Jpa, Gradle 
- 数据库：MySQL（主库）、Redis（缓存）
- 文件存储：Minio, 阿里云oss

**第三方服务**：
- 推送服务：极光推送
- 短信服务：阿里云短信
- 邮件服务：SendGrid

---

## 6. 开发计划
| 阶段 | 时间 | 交付内容 |
|------|------|----------|
| MVP开发 | 3个月 | 核心功能（宠物登记、提醒、花销记录） |
| 社交功能开发 | 2个月 | 动态分享、LBS匹配、推荐算法 |
| 测试与上线 | 1个月 | 灰度发布、应用商店提交 |

---

## 7. 风险与应对
- **数据隐私风险**：定期安全审计，遵循GDPR及《个人信息保护法》。
- **用户活跃度不足**：设计积分体系（签到奖励、互动得积分）。
- **技术依赖风险**：关键服务（如短信）采用多供应商备份。

---

## 8. 预期成果
- **用户价值**：一站式宠物健康管理 + 社交扩展。
- **商业价值**：通过广告（宠物用品、医院合作）及电商导流盈利。

---
**附件**：
- [原型图链接]()
- [技术方案详情]()
- [测试用例模板]() 